# ============================================
# PROJETO: N8N AUTOMATION
# Isolado na rede n8n_network
# ============================================

location /n8n/ {
    proxy_pass http://n8n_app/;
    include /etc/nginx/includes/proxy-params.conf;
    
    # Headers espec√≠ficos para n8n
    proxy_set_header X-Forwarded-Prefix /n8n;
    
    # WebSocket support
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_cache_bypass $http_upgrade;
    
    # Timeouts para workflows longos
    proxy_read_timeout 300s;
    proxy_connect_timeout 75s;
    proxy_send_timeout 300s;
}
