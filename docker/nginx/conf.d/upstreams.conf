# ============================================
# UPSTREAM DEFINITIONS
# ============================================

# Patrim√¥nioUEG Backend
upstream patrimonio_backend {
    least_conn;
    server patrimonio-backend:3000 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# Dash Estresse
upstream estresse_app {
    least_conn;
    server estresse-app:8050 max_fails=3 fail_timeout=30s;
    keepalive 16;
}

# ANA Hidro Backend
upstream ana_backend {
    least_conn;
    server ana-backend:3001 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# n8n Automation
upstream n8n_app {
    server n8n:5678 max_fails=3 fail_timeout=30s;
    keepalive 8;
}
